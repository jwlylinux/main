<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI助手demo</title>
</head>
<body>
    <h1>AI助手demo</h1>
    <p>您可以这样向我提问</p>

    <div id="questions">
        <button onclick="askQuestion('我想了解xxxx建筑数据技术股份有限公司')">我想了解xxxx建筑数据技术股份有限公司</button>
        <button onclick="askQuestion('我想招聘一个BIM工程师，需要什么能力？')">我想招聘一个BIM工程师，需要什么能力？</button>
        <!-- 你可以添加更多问题按钮 -->
    </div>

    <div id="response"></div>

    <input type="text" id="customQuestion" placeholder="你想找我聊点什么？">
    <button onclick="askCustomQuestion()">发送</button>

    <script>
        // 与后端交互，发送问题并接收回答
        async function askQuestion(question) {
            try {
                const response = await fetch('/api/ask', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ question: question })
                });
                const data = await response.json();
                displayResponse(data.data);
            } catch (error) {
                console.error('Error:', error);
                displayResponse('请求失败，请稍后重试。');
            }
        }

        // 发送自定义问题
        async function askCustomQuestion() {
            const question = document.getElementById('customQuestion').value;
            if (question) {
                await askQuestion(question);
            } else {
                alert('请输入一个问题');
            }
        }

        // 显示AI助手的回复
        function displayResponse(response) {
            const responseDiv = document.getElementById('response');
            responseDiv.innerHTML = `<p>${response}</p>`;
        }
    </script>
</body>
</html>

